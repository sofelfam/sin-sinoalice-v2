{"version":3,"sources":["webpack:///./src/pages/calc/timer/timerSetting-table.tsx"],"names":["props","triggers","setTriggers","optButtonDisabled","startButtonDisabled","handleShinmaButton","handleStartButton","handleRestartButton","handleShorteningButton","handleMinusButton","handleClearButton","handleNightmareButton","useState","snackPack","setSnackPack","snackbarOpen","setSnackbarOpen","messageInfo","setMessageInfo","useEffect","prev","handleSnackbarOpen","message","severity","key","Date","getTime","handleToggleChange","e","newSet","Set","toggleCheck","value","type","id","onChange","checked","filename","htmlFor","onClick","disabled"],"mappings":"mzVAqPA,UAjO0B,SAACA,GAAkC,IACnDC,EAAmND,EADhK,SACzCE,EAAyMF,EADhK,YAC5BG,EAA4LH,EADhK,kBACTI,EAAyKJ,EADhK,oBACYK,EAAoJL,EADhK,mBACgCM,EAAgIN,EADhK,kBACmDO,EAA6GP,EADhK,oBACwEQ,EAAwFR,EADhK,uBACgGS,EAAgET,EADhK,kBACmHU,EAA6CV,EADhK,kBACsIW,EAA0BX,EADhK,wBAUzBY,mBAVyB,IAUpDC,EAVoD,KAUzCC,GAVyC,QAWnBF,oBAXmB,GAWpDG,GAXoD,MAWtCC,GAXsC,SAYrBJ,wBAZqB,GAYpDK,GAZoD,MAYvCC,GAZuC,MAc3DC,qBAAU,WACJN,WAAJ,IAEEK,G,yWAAe,CAAD,GAAML,EAApBK,KACAJ,IAAa,mBAAUM,QAAV,MACbJ,QACSH,cAAJ,IAELG,SAED,CAACH,EAAWI,GAVfE,KAYA,IAAME,GAAqB,SAACC,EAAD,GAEzBR,IAAa,4CAAoB,CAAEQ,QAAF,EAAWC,SAAX,EAAqBC,KAAK,IAAIC,MAAOC,iBAclEC,GAAqB,SAACC,GAC1B,IAAMC,EAAS,IAAIC,IAAnB,GACID,MAAWD,SAAf,OACEC,SAAcD,SAAdC,OAEAA,MAAWD,SAAXC,OAEF3B,MAGI6B,GAAc,SAACC,GACnB,OAAQ/B,GAAY,IAAb,SAAP,IA4BF,OACE,0BACE,sBADF,UAEE,uBACE,0BACE,0BACE,0BACE,0BACE,qBACEgC,KADF,WAEEC,GAFF,aAGEF,MAHF,WAOEG,SAAU,mBAAOR,GAAP,IACVS,QAASL,GAAY,QAEvB,0BACE,iBAAUM,SAAS,0BAGvB,0BACE,qBACEJ,KADF,WAEEC,GAFF,cAGEF,MAHF,YAOEG,SAAU,mBAAOR,GAAP,IACVS,QAASL,GAAY,SAEvB,0BACE,iBAAUM,SAAS,2BAIzB,0BACE,qBACEC,QADF,oBADF,SAOE,qBACEA,QADF,qBAzCN,SAiDE,uBACE,4BAEEC,QAAS,kBAhFnBlC,SACAgB,GAAmB,cAAnBA,UA0BE,YA2DE,0BACE,4BAEEkB,QAAS,kBAAMjC,KACfkC,SAAUpC,GA/DhB,YAoEE,uBACE,0BACE,0BACE,0BACE,4BAEE8B,GAFF,cAGEK,QAAS,kBAjGvBhC,SACAc,GAAmB,iBAAnBA,SAiGcmB,SAAUrC,GAEV,0BACE,iBAAUkC,SAAS,0BAGvB,qBACEC,QADF,qBAZJ,SAmBE,0BACE,4BAEEJ,GAFF,iBAGEK,QAAS,kBA9GvB/B,SACAa,GAAmB,kBAAnBA,SA8GcmB,SAAUrC,GAEV,0BACE,iBAAUkC,SAAS,0BAGvB,qBACEC,QADF,wBA9BJ,QAqCE,0BACE,4BAEEJ,GAFF,YAGEK,QAAS,kBA3HvB9B,SACAY,GAAmB,WAAnBA,YA2HcmB,SAAUrC,GAEV,2BAPJ,OASE,qBACEmC,QADF,mBA/CN,SAuDE,4BAEEC,QAAS,kBArInB7B,SACAW,GAAmB,WAAnBA,aAsIU,gBAJF,MAKE,2BAjIR,UAqIE,uBACE,uBAAeV,sBAAuBA","file":"component---src-pages-calc-timer-timer-setting-table-tsx-06871bbda2aea7005028.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport 'twin.macro';\nimport { AnyImage } from \"src/components\";\nimport { Trash } from \"src/components/icons\";\nimport NightmareTabs from \"./nightmare-tabs\";\n\ninterface timerSettingTableProps {\n  triggers: Set<string>;\n  setTriggers:  React.Dispatch<React.SetStateAction<Set<string>>>;\n  optButtonDisabled: boolean;\n  startButtonDisabled: boolean;\n  handleShinmaButton: () => void;\n  handleStartButton: () => void;\n  handleRestartButton: () => void;\n  handleShorteningButton: () => void;\n  handleMinusButton: () => void;\n  handleClearButton: () => void;\n  handleNightmareButton: (e: React.MouseEvent<HTMLElement>) => void;\n};\n\nconst TimerSettingTable = (props: timerSettingTableProps) => {\n  const { triggers, setTriggers, optButtonDisabled, startButtonDisabled, handleShinmaButton, handleStartButton, handleRestartButton, handleShorteningButton, handleMinusButton, handleClearButton, handleNightmareButton } = props;\n\n  //ボタントリガーアラート\n  interface SnackbarMessage {\n    message: string;\n    severity: \"success\" | \"info\" | \"warning\" | \"error\" | undefined;\n    key: number;\n  }\n  \n  const [snackPack, setSnackPack] = useState<SnackbarMessage[]>([]);\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [messageInfo, setMessageInfo] = useState<SnackbarMessage | undefined>(undefined);\n\n  useEffect(() => {\n    if (snackPack.length && !messageInfo) {\n      // Set a new snack when we don't have an active one\n      setMessageInfo({ ...snackPack[0] });\n      setSnackPack((prev) => prev.slice(1));\n      setSnackbarOpen(true);\n    } else if (snackPack.length && messageInfo && snackbarOpen) {\n      // Close an active snack when a new one is added\n      setSnackbarOpen(false);\n    }\n  }, [snackPack, messageInfo, snackbarOpen]);\n\n  const handleSnackbarOpen = (message: string, severity: \"success\" | \"info\" | \"warning\" | \"error\" | undefined) => {\n    //setSnackbarOpen(true);\n    setSnackPack((prev) => [...prev, { message, severity, key: new Date().getTime() }]);\n  }\n\n  const handleSnackbarClose = (reason?: string) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setSnackbarOpen(false);\n  };\n\n  const handleExited = () => {\n    setMessageInfo(undefined);\n  };\n\n  const handleToggleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const newSet = new Set(triggers);\n    if (newSet.has(e.target.value)) {\n      newSet.delete(e.target.value);\n    } else {\n      newSet.add(e.target.value);\n    }\n    setTriggers(newSet);\n  }\n\n  const toggleCheck = (value: string):boolean => {\n    return (triggers || new Set()).has(value);\n  }\n\n  const handleShinmaButtonWithSnack = () => {\n    handleShinmaButton();\n    handleSnackbarOpen(\"神魔効果タイマー開始。\", \"info\");\n  }\n\n  const handleRestartButtonWithSnack = () => {\n    handleRestartButton();\n    handleSnackbarOpen(\"[逆刻] 起動メア巻き戻し。\", \"info\");\n  }\n\n  const handleShorteningButtonWithSnack = () => {\n    handleShorteningButton();\n    handleSnackbarOpen(\"[順刻] 起動メア60秒減少。\", \"info\");\n  }\n\n  const handleMinusButtonWithSnack = () => {\n    handleMinusButton();\n    handleSnackbarOpen(\"-1秒しました。\", \"success\");\n  }\n\n  const handleClearButtonWithSnack = () => {\n    handleClearButton();\n    handleSnackbarOpen(\"クリアしました。\", \"success\");\n  }\n\n  return(\n    <div tw='p-2'>\n      <h6>タイマー設定</h6>\n      <div>\n        <div tw='flex flex-row justify-between items-center px-4'>\n          <div tw='flex flex-col m-1'>\n            <div tw='inline-flex flex-row mb-1'>\n              <div tw='relative h-16 rounded-l-md overflow-hidden'>\n                <input\n                  type='checkbox'\n                  id='trigger-5s'\n                  value='5s'\n                  tw='w-16 h-16 box-border appearance-none cursor-pointer transition ease focus:outline-none focus-visible:ring border border-gray-400\n                    hover:bg-focus checked:bg-disabled dark:checked:bg-darkhover\n                    rounded-l-md'\n                  onChange={(e) => handleToggleChange(e)}\n                  checked={toggleCheck('5s')}\n                />\n                <div tw='absolute left-0 top-0 w-full h-full -z-1'>\n                  <AnyImage filename='cards/CardS5975.png' />\n                </div>\n              </div>\n              <div tw='relative h-16 rounded-r-md overflow-hidden'>\n                <input\n                  type='checkbox'\n                  id='trigger-90s'\n                  value='90s'\n                  tw='w-16 h-16 box-border appearance-none cursor-pointer transition ease focus:outline-none focus-visible:ring border border-gray-400\n                    hover:bg-focus checked:bg-disabled dark:checked:bg-darkhover\n                    rounded-r-md border-l-0'\n                  onChange={(e) => handleToggleChange(e)}\n                  checked={toggleCheck('90s')}\n                />\n                <div tw='absolute left-0 top-0 w-full h-full -z-1'>\n                  <AnyImage filename='cards/CardS7549.png' />\n                </div>\n              </div>\n            </div>\n            <div tw='inline-flex'>\n              <label\n                htmlFor='trigger-5s'\n                tw='w-16 text-sm text-center cursor-pointer overflow-hidden'\n              >\n                3rdユノ\n              </label>\n              <label\n                htmlFor='trigger-90s'\n                tw='w-16 text-sm text-center cursor-pointer overflow-hidden'\n              >\n                サルト\n              </label>\n            </div>\n          </div>\n          <div>\n            <button\n              tw='text-2xl bg-blue-600 text-white rounded-lg py-2 px-4 transition ease select-none hover:bg-blue-800 disabled:bg-gray-400 focus:outline-none focus-visible:ring'\n              onClick={() => handleShinmaButtonWithSnack()}\n            >\n              神魔効果開始\n            </button>\n          </div>\n        </div>\n        <div tw='w-full px-2'>\n          <button\n            tw='w-full text-4xl bg-lightblue-500 text-white rounded-2xl p-6 transition ease select-none hover:bg-lightblue-700 disabled:bg-gray-400 focus:outline-none focus-visible:ring'\n            onClick={() => handleStartButton()}\n            disabled={startButtonDisabled}\n          >\n            ナイトメア準備\n          </button>\n        </div>\n        <div>\n          <div tw='flex justify-between p-2'>\n            <div tw='flex'>\n              <div tw='flex flex-col'>\n                <button\n                  tw='relative w-16 h-16 items-center rounded-full p-1 sm:px-4 sm:py-2 ml-1 sm:m-2 transition ease select-none hover:bg-focus active:bg-active disabled:bg-disabled focus:outline-none focus-visible:ring overflow-hidden'\n                  id='res-restart'\n                  onClick={() => handleRestartButtonWithSnack()}\n                  disabled={optButtonDisabled}\n                >\n                  <div tw='absolute -top-2 -left-2 w-20 h-20 -z-1'>\n                    <AnyImage filename='cards/CardS6416.png' />\n                  </div>\n                </button>\n                <label\n                  htmlFor='res-restart'\n                  tw='w-full text-sm text-center cursor-pointer overflow-hidden'\n                >\n                  ロボンゴ\n                </label>\n              </div>\n              <div tw='flex flex-col'>\n                <button\n                  tw='relative w-16 h-16 items-center rounded-full p-1 sm:px-4 sm:py-2 ml-1 sm:m-2 transition ease select-none hover:bg-focus active:bg-active disabled:bg-disabled focus:outline-none focus-visible:ring overflow-hidden'\n                  id='res-shortening'\n                  onClick={() => handleShorteningButtonWithSnack()}\n                  disabled={optButtonDisabled}\n                >\n                  <div tw='absolute -top-2 -left-2 w-20 h-20 -z-1'>\n                    <AnyImage filename='cards/CardS2672.png' />\n                  </div>\n                </button>\n                <label\n                  htmlFor='res-shortening'\n                  tw='w-full text-sm text-center cursor-pointer overflow-hidden'\n                >\n                  ガリア\n                </label>\n              </div>\n              <div tw='flex flex-col'>\n                <button\n                  tw='w-16 h-16 items-center bg-emerald-500 text-white rounded-full px-2 py-1 sm:px-4 sm:py-2 ml-1 sm:m-2 transition ease select-none hover:bg-emerald-700 disabled:bg-gray-400 focus:outline-none focus-visible:ring'\n                  id='res-minus'\n                  onClick={() => handleMinusButtonWithSnack()}\n                  disabled={optButtonDisabled}\n                >\n                  <span tw='block text-center'>-1</span>\n                </button>\n                <label\n                  htmlFor='res-minus'\n                  tw='w-full text-sm text-center cursor-pointer overflow-hidden'\n                >\n                  微調整\n                </label>\n              </div>\n            </div>\n            <button\n              tw='flex h-16 items-center bg-rose-600 text-white rounded-md px-4 py-1 sm:px-4 sm:py-2 sm:m-2 transition ease select-none hover:bg-rose-800 focus:outline-none focus-visible:ring'\n              onClick={() => handleClearButtonWithSnack()}\n            >\n              <Trash />\n              <span tw='sm:block hidden'>クリア</span>\n            </button>\n          </div>\n        </div>\n        <div>\n          <NightmareTabs handleNightmareButton={handleNightmareButton} />\n        </div>\n      </div>\n    </div>\n  )\n};\n  \nexport default TimerSettingTable;\n"],"sourceRoot":""}