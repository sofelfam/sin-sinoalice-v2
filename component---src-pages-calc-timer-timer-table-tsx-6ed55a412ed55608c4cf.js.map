{"version":3,"sources":["webpack:///./src/pages/calc/timer/timer-table.tsx","webpack:///./src/pages/calc/timer/timerDisplay-table.tsx","webpack:///./assets/sounds/warning1.mp3","webpack:///./assets/sounds/cursor2.mp3"],"names":["HistoryTable","history","setHistory","MediaMobile","useTimerClock","coloCount","coloCountFunc","readyCountFunc","useTimerNow","mareCountFunc","shinmaCountFunc","useState","dateUtil","coloMareTime","setColoMareTime","shinmaEndTime","setShinmaEndTime","mareTimeRef","useRef","readyRef","leftTimeRef","startActivate","setStartActivate","mareId","setMareId","useSet","triggers","updateTriggers","startButtonDisabled","setStartButtonDisabled","optButtonDisabled","setOptButtonDisabled","audio","setAudio","useEffect","Audio","firstNightmareFlag","firstShinmaFlag","tick_tock","i","ready_countdown","trigger","tempMareTime","endDate","count","Date","mare_countdown","shinma_countdown","time","handleRestartButton","useCallback","func","param","handleShorteningButton","handleMinusButton","handleClearButton","coloCountText","coloMareStartTime","coloMareEndTime","coloMareId","readyCountText","mareCountText","shinmaCountText","handleShinmaButton","initShinma","handleStartButton","handleNightmareButton","e","mareButtonReady","mareReady","mareActivate","mareStartDate","mareEndDate","tempId","countText_now","countText_ready","countText_end","id","nowText","readyText","endText","classes","timerDisplayTable","timerTextLabel4","timerTextLabel2","timerDataLabel","zoomTimerTextLabel4WithIcon","zoomTimerTextLabel2WithIcon","zoomTimerDataLabelWithIcon","zoomTimerTextLabel4","zoomTimerDataLabel","TimerDataLabel","props","css","TimerTextLabel2","TimerTextLabel4","TimerTable","zoom","imageId","data-id","filename","MareTimerTable","ShinmaTimerTable","setZoom","localStorage","type","onChange","handleZoomButton","htmlFor","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","module","exports"],"mappings":"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","file":"component---src-pages-calc-timer-timer-table-tsx-6ed55a412ed55608c4cf.js","sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport 'twin.macro';\nimport TimerDisplayTable from './timerDisplay-table';\nimport TimerHistoryTable from './timerHistory-table';\nimport TimerSettingTable from './timerSetting-table';\nimport soundStart from '../../../../assets/sounds/cursor2.mp3'\nimport soundEnd from '../../../../assets/sounds/warning1.mp3'\nimport { useSet } from 'src/hooks';\nimport { MediaMobile } from 'src/store';\nimport { useTimerNow, useTimerClock } from 'src/hooks';\nimport { dateUtil } from 'src/util';\n\nexport interface historyProps {\n  id: string;\n  nowText: string;\n  readyText: string;\n  endText: string;\n}\n\nconst ColoTimerTable = () => {  \n  //コロシアム残り時間\n  const [coloCount, coloCountFunc] = useTimerClock();\n  //発動残り時間\n  const [, readyCountFunc] = useTimerNow(false);\n  // //効果残り時間\n  const [, mareCountFunc] = useTimerNow(false);\n  // //神魔残り時間\n  const [, shinmaCountFunc] = useTimerNow(false);\n\n  //発動・効果タイミング\n  const [coloMareTime, setColoMareTime] = useState<Date[]>([dateUtil.nowZeroDate(), dateUtil.nowZeroDate()]);\n  //神魔終了タイミング\n  const [shinmaEndTime, setShinmaEndTime] = useState(dateUtil.nowZeroDate());\n  \n  /**\n   * [0] メア準備時間（設置型による変更加味）\n   * [1] メア効果時間\n   * [2] pureメア準備時間（逆刻で使用）\n   */\n  const mareTimeRef = useRef<number[] | null>(null);\n  //タイマー測定開始時間保持\n  const readyRef = useRef<Date | null>(null);\n  //残り時間を保持\n  const leftTimeRef = useRef<Date | null>(null);\n\n  // ここについて次回\n  \n  //タイマーが起動しているかの判定\n  const [startActivate, setStartActivate] = useState(false);\n  //メアID\n  const [mareId, setMareId] = useState('0465');\n  //トリガーボタン情報\n  const [triggers, updateTriggers] = useSet<string>();\n  //ボタンDisabled\n  const [startButtonDisabled, setStartButtonDisabled] = useState(false);\n  const [optButtonDisabled, setOptButtonDisabled] = useState(true);\n\n  //メア履歴\n  const [history, setHistory] = useState<historyProps[]>([]);\n\n  const [audio, setAudio] = useState<HTMLAudioElement[]>();\n  useEffect(() => {\n    setAudio([new Audio(soundStart),\n              new Audio(soundEnd)]);\n  }, []);\n\n  let firstNightmareFlag: boolean = true;\n  let firstShinmaFlag: boolean = true;\n\n  const tick_tock = (i: number) => {\n    if(audio && audio[i]) audio[i].play();\n  }\n  \n  // readyカウントダウン\n  // trigger: 設置型を無視するか否か\n  const ready_countdown = (trigger?: boolean): void => {\n    if (!(mareTimeRef.current !== null && readyRef.current !== null)) return;\n    const tempMareTime = trigger ? mareTimeRef.current[2] : mareTimeRef.current[0];\n    var endDate = dateUtil.getEndDate(readyRef.current, tempMareTime);\n    var count = dateUtil.getCountdownDate(endDate);\n\n    if (count.getDate() != new Date().getDate()) {\n      tick_tock(1);\n      firstNightmareFlag = true;\n      readyCountFunc.clear();\n      readyCountFunc.init();\n    } else {\n      readyCountFunc.setCountdown(count);\n      if (firstNightmareFlag && count.getMinutes() * 60 + count.getSeconds() == 10) {      \n        tick_tock(0);\n        firstNightmareFlag = false;\n      }\n    }\n  };\n  \n  //メアカウントダウン\n  const mare_countdown = (): void => {\n    if (!(mareTimeRef.current !== null && readyRef.current !== null)) return;\n    var endDate = dateUtil.getEndDate(readyRef.current, mareTimeRef.current[0] + mareTimeRef.current[1]);\n    var count = dateUtil.getCountdownDate(endDate);\n\n    if (count.getDate() != new Date().getDate()) {\n      tick_tock(1);\n      firstNightmareFlag = true;\n      setStartButtonDisabled(false);\n      setOptButtonDisabled(true);\n      updateTriggers.clear();\n\n      mareCountFunc.clear();\n      mareCountFunc.init();\n\n      readyRef.current = new Date();\n      mareTimeRef.current = [0, 0];\n      setStartActivate(false);\n    } else {\n      mareCountFunc.setCountdown(count);\n      if (firstNightmareFlag && count.getMinutes() * 60 + count.getSeconds() == 10) {\n        tick_tock(0);\n        firstNightmareFlag = false;\n      }\n    }\n  };\n\n  //神魔カウントダウン\n  const shinma_countdown = (time: Date) => {\n    var endDate = dateUtil.getEndDate(time, 90);\n    var count = dateUtil.getCountdownDate(endDate);\n\n    if (count.getDate() != new Date().getDate()) {\n      tick_tock(1);\n      firstShinmaFlag = true;\n\n      shinmaCountFunc.clear();\n      shinmaCountFunc.init();\n    } else {\n      shinmaCountFunc.setCountdown(count);\n      if (firstShinmaFlag && count.getMinutes() * 60 + count.getSeconds() == 10) {\n        tick_tock(0);\n        firstShinmaFlag = false;\n      }\n    }\n  }\n\n  const handleShinmaButton = (() => {\n    const initShinma = new Date();\n    tick_tock(0);\n    setShinmaEndTime(dateUtil.getEndDate(coloCount, -90));\n    \n    shinmaCountFunc.clear();\n    shinmaCountFunc.run({func: shinma_countdown, param: initShinma});\n  });\n\n  const handleStartButton = () => {\n    setStartActivate(true);\n    readyRef.current = new Date();\n    leftTimeRef.current = coloCount;\n    tick_tock(0);\n\n    readyCountFunc.clear();\n    mareCountFunc.clear();\n\n    setStartButtonDisabled(true);\n  };\n\n  const handleRestartButton = useCallback(() => {\n    readyRef.current = new Date();\n    if (mareTimeRef.current !== null) setColoMareTime([dateUtil.getEndDate(coloCount, -1 - mareTimeRef.current[2]), dateUtil.getEndDate(coloCount, -1 - mareTimeRef.current[2] - mareTimeRef.current[1])]);\n    \n    readyCountFunc.clear();\n    mareCountFunc.clear();\n    readyCountFunc.run({func: ready_countdown, param: true});\n    mareCountFunc.run({func: mare_countdown});\n  }, [readyRef.current, leftTimeRef.current, mareTimeRef.current]);\n\n  const handleShorteningButton = useCallback(() => {\n    if (!(readyRef.current !== null && leftTimeRef.current !== null)) return;\n    readyRef.current = dateUtil.getEndDate(readyRef.current, -60);\n    leftTimeRef.current = dateUtil.getEndDate(leftTimeRef.current, 60);\n    setColoMareTime([dateUtil.getEndDate(coloMareTime[0], 60), dateUtil.getEndDate(coloMareTime[1], 60)]);\n  }, [readyRef.current, leftTimeRef.current, coloMareTime]);\n  \n  const handleMinusButton = useCallback(() => {\n    if (!(readyRef.current !== null && leftTimeRef.current !== null)) return;\n    readyRef.current = dateUtil.getEndDate(readyRef.current, -1);\n    leftTimeRef.current = dateUtil.getEndDate(leftTimeRef.current, 1);\n    setColoMareTime([dateUtil.getEndDate(coloMareTime[0], 1), dateUtil.getEndDate(coloMareTime[1], 1)]);\n  }, [readyRef.current, leftTimeRef.current, coloMareTime]);\n\n  const handleClearButton = useCallback(() => {\n    readyCountFunc.init();\n    mareCountFunc.init();\n    readyRef.current = new Date();\n    mareTimeRef.current = [0, 0];\n    setStartActivate(false);\n    setColoMareTime([dateUtil.nowZeroDate(), dateUtil.nowZeroDate()])\n    setMareId('0465');\n \n    readyCountFunc.clear();\n    mareCountFunc.clear();\n    \n    setStartButtonDisabled(false);\n    setOptButtonDisabled(true);\n    updateTriggers.clear();\n  }, []);\n\n  const handleNightmareButton = (e: React.MouseEvent<HTMLElement>) => {\n    if (startActivate === false) {\n      readyRef.current = new Date;\n      leftTimeRef.current = coloCount;\n      tick_tock(0);\n    }\n    setStartActivate(true);\n    if (!leftTimeRef.current) leftTimeRef.current = coloCount;\n\n    const mareButtonReady = !(e.currentTarget.dataset.ready) ? 0 : +(e.currentTarget.dataset.ready);\n    const mareReady = triggers.has('90s') ? 90 : \n                      triggers.has('5s') ? 5 :\n                      mareButtonReady;\n    const mareActivate = !(e.currentTarget.dataset.activate) ? 0 : +(e.currentTarget.dataset.activate);\n    mareTimeRef.current = [mareReady, mareActivate, mareButtonReady];\n\n    const mareStartDate = dateUtil.getEndDate(leftTimeRef.current, -1 - mareTimeRef.current[0]);\n    const mareEndDate = dateUtil.getEndDate(leftTimeRef.current, -1 - mareTimeRef.current[0] - mareTimeRef.current[1]);\n    setColoMareTime([mareStartDate, mareEndDate]);\n    const tempId = !(e.currentTarget.dataset.id) ? '0465' : e.currentTarget.dataset.id;\n    setMareId(tempId);\n    \n    readyCountFunc.clear();\n    mareCountFunc.clear();\n    readyCountFunc.run({func: ready_countdown, param: false});\n    mareCountFunc.run({func: mare_countdown});\n    \n    setStartButtonDisabled(true);\n    setOptButtonDisabled(false);\n\n    const countText_now = dateUtil.getTimeText(dateUtil.getEndDate(leftTimeRef.current, -1));\n    const countText_ready = dateUtil.getTimeText(dateUtil.getEndDate(leftTimeRef.current, mareTimeRef.current[0] * -1 - 1));\n    const countText_end = dateUtil.getTimeText(dateUtil.getEndDate(leftTimeRef.current, (mareTimeRef.current[0] + mareTimeRef.current[1]) * -1 - 1));\n\n    setHistory(history => [...history, {id: tempId, nowText: countText_now, readyText: countText_ready, endText: countText_end}]);\n  };\n\n  return(\n    <div tw='flex lg:w-4/5 lg:mx-auto w-full mx-0'>\n      <div tw='flex-grow flex flex-col'>\n        <TimerDisplayTable\n          coloCountText={coloCountFunc.toString()}\n          coloMareStartTime={dateUtil.getTimeText(coloMareTime[0]).slice(0,8)}\n          coloMareEndTime={dateUtil.getTimeText(coloMareTime[1]).slice(0,8)}\n          coloMareId={mareId}\n          readyCountText={readyCountFunc.toString()}\n          mareCountText={mareCountFunc.toString()}\n          shinmaCountText={shinmaCountFunc.toString()}\n          shinmaEndTime={dateUtil.getTimeText(shinmaEndTime).slice(0,8)}\n        />\n        {<TimerSettingTable\n          triggers={triggers}\n          updateTriggers={updateTriggers}\n          optButtonDisabled={optButtonDisabled}\n          startButtonDisabled={startButtonDisabled}\n          handleShinmaButton={handleShinmaButton}\n          handleStartButton={handleStartButton}\n          handleRestartButton={handleRestartButton}\n          handleShorteningButton={handleShorteningButton}\n          handleMinusButton={handleMinusButton}\n          handleClearButton={handleClearButton}\n          handleNightmareButton={handleNightmareButton}\n        />}\n      </div>\n      <HistoryTable\n        history={history}\n        setHistory={setHistory}\n      />\n    </div>\n  )\n};\n\nconst HistoryTable: React.FCX<{\n  history: historyProps[];\n  setHistory: React.Dispatch<React.SetStateAction<historyProps[]>>;\n}> = ({ history, setHistory }) => {\n  const { isMobile } = MediaMobile.useContainer();\n  if (isMobile) {\n    return null;\n  } else {\n    return (\n      <div tw='md:w-max md:ml-6 md:block w-0 ml-0 hidden'>\n        <TimerHistoryTable\n          history={history}\n          setHistory={setHistory}\n        />\n      </div>\n    );\n  }\n};\n\nexport default ColoTimerTable;\n","import { css } from \"@emotion/core\";\nimport React, { useEffect, useState } from \"react\";\nimport { AnyImage } from \"src/components\";\nimport tw from 'twin.macro';\n\nconst classes = {\n  timerDisplayTable: tw`\n    flex flex-col sm:w-1/3 w-full p-2\n  `,\n  timerTextLabel4: tw`\n    w-36 m-1 text-center font-bold border-b border-gray-400 transition ease-out\n  `,\n  timerTextLabel2: tw`\n    w-16 m-1 text-center font-bold border-b border-gray-400 transition ease-out\n  `,\n  timerDataLabel: tw`\n    w-40 m-1 text-center font-mono font-bold border-b border-gray-400 transition ease-out\n  `,\n  zoomTimerTextLabel4WithIcon: css`\n    transform: scale(0.4) translateY(-3.6rem) translateX(6.7rem);\n  `,\n  zoomTimerTextLabel2WithIcon: css`\n    transform: scale(0.4) translateY(-3.6rem) translateX(-2rem);\n  `,\n  zoomTimerDataLabelWithIcon: css`\n    transform: scale(1.3) translateX(-2rem);\n  `,\n  zoomTimerTextLabel4: css`\n    transform: scale(0.4) translateY(-3.6rem);\n  `,\n  zoomTimerDataLabel: css`\n    transform: scale(1.3) translateX(-4rem);\n  `\n};\n\nconst TimerDataLabel: React.FC = (props) => {\n  return <div css={classes.timerDataLabel} {...props}>{props.children}</div>;\n}\n\nconst TimerTextLabel2: React.FC = (props) => {\n  return <div css={classes.timerTextLabel2} {...props}>{props.children}</div>;\n}\n\nconst TimerTextLabel4: React.FC = (props) => {\n  return <div css={classes.timerTextLabel4} {...props}>{props.children}</div>;\n}\n\ninterface timerTableProps {\n  zoom: boolean;\n  coloCountText: string;\n  coloMareId: string;\n  coloMareStartTime: string;\n  coloMareEndTime: string;\n};\n\nconst TimerTable = React.memo((props: timerTableProps) => {\n  const { zoom, coloCountText, coloMareId, coloMareStartTime, coloMareEndTime } = props;\n  const imageId = ('' + coloMareId).length < 5 ? ('0000' + coloMareId).slice(-4) : coloMareId;\n\n  return(\n    <div css={classes.timerDisplayTable}>\n      <h6 tw='sm:block hidden dark:text-white'>コロシアム残り時間</h6>\n      <div tw='flex-grow flex items-center sm:items-start w-max mx-auto text-3xl'>\n        <div tw='w-36 mr-4 text-center block sm:hidden'>\n          <span>コロシアム<br />残り時間</span>\n        </div>\n        <div tw='flex flex-col'>\n          <div tw='flex flex-row'>\n            <TimerTextLabel4 css={zoom && classes.zoomTimerTextLabel4WithIcon}>全体時間</TimerTextLabel4>            \n            <TimerDataLabel css={zoom && classes.zoomTimerDataLabelWithIcon}>{coloCountText}</TimerDataLabel>\n          </div>\n          <div tw='flex'>\n            <div tw='w-20 h-20 my-1'>\n              <div data-id={coloMareId} />\n              <AnyImage filename={`cards/CardS${imageId}.png`} />\n            </div>\n            <div>\n              <div tw='flex' >\n                <TimerTextLabel2 css={zoom && classes.zoomTimerTextLabel2WithIcon}>発動</TimerTextLabel2>\n                <TimerDataLabel css={zoom && classes.zoomTimerDataLabelWithIcon}>{coloMareStartTime}</TimerDataLabel>\n              </div>\n              <div tw='flex'>\n                <TimerTextLabel2 css={zoom && classes.zoomTimerTextLabel2WithIcon}>終了</TimerTextLabel2>\n                <TimerDataLabel css={zoom && classes.zoomTimerDataLabelWithIcon}>{coloMareEndTime}</TimerDataLabel>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n\ninterface mareTimerTableProps {\n  zoom: boolean;\n  readyCountText: string;\n  mareCountText: string;\n};\n\nconst MareTimerTable = React.memo((props: mareTimerTableProps) => {\n  const { zoom, readyCountText, mareCountText } = props;\n\n  return(\n    <div css={classes.timerDisplayTable}>\n      <h6 tw='sm:block hidden dark:text-white'>メアタイマー</h6>\n      <div tw='flex-grow flex items-center sm:items-start w-max mx-auto text-3xl'>\n        <div tw='w-36 mr-4 text-center block sm:hidden'>\n          <span>メア<br />タイマー</span>\n        </div>\n        <div tw='flex flex-col'>\n          <div tw='flex'>\n            <TimerTextLabel4 css={zoom && classes.zoomTimerTextLabel4}>発動時間</TimerTextLabel4>\n            <TimerDataLabel css={zoom && classes.zoomTimerDataLabel}>{readyCountText}</TimerDataLabel>\n          </div>\n          <div tw='flex'>\n            <TimerTextLabel4 css={zoom && classes.zoomTimerTextLabel4}>終了時間</TimerTextLabel4>\n            <TimerDataLabel css={zoom && classes.zoomTimerDataLabel}>{mareCountText}</TimerDataLabel>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n\ninterface shinmaTimerTableProps {\n  zoom: boolean;\n  shinmaCountText: string;\n  shinmaEndTime: string;\n};\n\nconst ShinmaTimerTable = React.memo((props: shinmaTimerTableProps) => {\n  const { zoom, shinmaCountText, shinmaEndTime } = props;\n\n  return(\n    <div css={classes.timerDisplayTable}>\n      <h6 tw='hidden sm:block dark:text-white'>神魔タイマー</h6>\n      <div tw='flex-grow flex items-center sm:items-start w-max mx-auto text-3xl'>\n        <div tw='w-36 mr-4 text-center block sm:hidden'>\n          <span>神魔<br />タイマー</span>\n        </div>\n        <div tw='flex flex-col'>\n          <div tw='flex'>\n            <TimerTextLabel4 css={zoom && classes.zoomTimerTextLabel4}>残り時間</TimerTextLabel4>\n            <TimerDataLabel css={zoom && classes.zoomTimerDataLabel}>{shinmaCountText}</TimerDataLabel>\n          </div>\n          <div tw='flex'>\n            <TimerTextLabel4 css={zoom && classes.zoomTimerTextLabel4}>終了時刻</TimerTextLabel4>\n            <TimerDataLabel css={zoom && classes.zoomTimerDataLabel}>{shinmaEndTime}</TimerDataLabel>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n\ninterface timerDisplayTableProps {\n  coloCountText: string;\n  coloMareStartTime: string;\n  coloMareEndTime: string;\n  coloMareId: string;\n  readyCountText: string;\n  mareCountText: string;\n  shinmaCountText: string;\n  shinmaEndTime: string;\n}\n\nconst TimerDisplayTable = (props: timerDisplayTableProps) => {\n  const { coloCountText, coloMareStartTime, coloMareEndTime, coloMareId, readyCountText, mareCountText, shinmaCountText, shinmaEndTime } = props;\n  const [zoom, setZoom] = useState<boolean>(false);\n\n  useEffect(() => {\n    setZoom(localStorage.getItem(`timerZoom`) === `in`);\n  }, []);\n\n  const handleZoomButton = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.checked) {\n      localStorage.setItem(`timerZoom`, `in`);\n      setZoom(true);\n    } else {\n      localStorage.setItem(`timerZoom`, `out`);\n      setZoom(false);\n    }\n  };\n\n  return (\n    <div tw='flex flex-wrap relative'>\n      <div tw='absolute top-0 right-4'>\n        <input\n          type='checkbox'\n          id='zoomButton'\n          tw='absolute appearance-none'\n          onChange={(e) => handleZoomButton(e)}\n        />\n        <label\n          htmlFor='zoomButton'\n          tw='inline-block w-12 h-10 cursor-pointer rounded transition ease px-2 py-1 bg-transb-16 hover:bg-transb-24 dark:(bg-transw-24 hover:bg-transw-16)'\n        >\n          {zoom\n            ?\n            <svg tw='w-8 h-8' xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7\" />\n            </svg>\n            :\n            <svg tw='w-8 h-8' xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7\" />\n            </svg>\n          }\n        </label>\n      </div>\n      <TimerTable\n        zoom={zoom}\n        coloCountText={coloCountText}\n        coloMareStartTime={coloMareStartTime}\n        coloMareEndTime={coloMareEndTime}\n        coloMareId={coloMareId}\n      />\n      <MareTimerTable\n        zoom={zoom}\n        readyCountText={readyCountText}\n        mareCountText={mareCountText}\n      />\n      <ShinmaTimerTable\n        zoom={zoom}\n        shinmaCountText={shinmaCountText}\n        shinmaEndTime={shinmaEndTime}\n      />\n    </div>\n  );\n};\n\nexport default TimerDisplayTable;\n","module.exports = __webpack_public_path__ + \"static/warning1-066edbab5ef950bc88ed83dcb20e9f31.mp3\";","module.exports = \"data:audio/mpeg;base64,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IU2qmzayyLru9bEqwRiCPp0fQmT5JUnQlFMKRUWUxk2e0XeyuSqTr3aSR7aFXdo4f/b//+lsrrATfr4BmkAA0SNDs0zUwHh4GBYOGRCAIDlO0AxIwE0ugSJRi2ngLcoCFKprNFcHU1xbQYuEU45LpsBYuJVkU0T0LKyJcUnENIpocltytki6SIkj3fa/Cg9HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dP//uSRIaJkzciRNNvYlBUJChmbelKAAABnAAAAAAAADOAAAAAR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0dPR09HT0FQRVRBR0VY0AcAAEAAAAABAAAAAAAAoAAAAAAAAAAACwAAAAAAAABNUDNHQUlOX1VORE8AKzAwNCwrMDA0LE5BUEVUQUdFWNAHAABAAAAAAQAAAAAAAIAAAAAAAAAAAA==\""],"sourceRoot":""}